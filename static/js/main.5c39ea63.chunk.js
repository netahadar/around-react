(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{11:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(4),i=a.n(s),o=(a(11),a(2)),r=a.p+"static/media/logo.c7581985.svg",l=a(0);function u(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("header",{className:"header",children:Object(l.jsx)("img",{className:"header__logo",src:r,alt:"around the u.s. logo"})})})}var d=a(5),p=a(6),j=function(e,t){return fetch(e,t).then((function(e){if(e.ok)return e.json();Promise.reject("ERROR: ".concat(e.statusText))}))},b=new(function(){function e(t,a){Object(d.a)(this,e),this._baseUrl=t,this._headers=a}return Object(p.a)(e,[{key:"getUserInfo",value:function(){return j("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}},{key:"setUserAvatar",value:function(e){return j("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.link})})}},{key:"getInitialCards",value:function(){return j("".concat(this._baseUrl,"/cards"),{headers:this._headers})}},{key:"sendNewData",value:function(e){return j("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})})}},{key:"createNewCard",value:function(e){return j("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})})}},{key:"deleteCard",value:function(e){return j("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers})}},{key:"addLike",value:function(e){return j("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers})}},{key:"dislike",value:function(e){return j("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers})}}]),e}())("https://around.nomoreparties.co/v1/group-12",{authorization:"12be1991-4f28-449f-a9a9-71d4704b25a2","Content-Type":"application/json"});function h(e){return Object(l.jsxs)("li",{className:"gallery__item",children:[Object(l.jsx)("button",{className:"gallery__trash-button",type:"button","aria-label":"delete button"}),Object(l.jsx)("div",{className:"gallery__photo",style:{backgroundImage:"url(".concat(e.card.link,")")},alt:e.card.name,onClick:function(){e.onCardClick(e.card),console.log(e.card)}}),Object(l.jsxs)("div",{className:"gallery__description",children:[Object(l.jsx)("h2",{className:"gallery__text",children:e.card.name}),Object(l.jsxs)("div",{className:"gallery__like-container",children:[Object(l.jsx)("button",{className:"gallery__like-button",type:"button","aria-label":"like button"}),Object(l.jsx)("p",{className:"gallery__like-counter",children:e.card.likes.length})]})]})]})}function m(e){var t=c.a.useState(""),a=Object(o.a)(t,2),n=a[0],s=a[1],i=c.a.useState(""),r=Object(o.a)(i,2),u=r[0],d=r[1],p=c.a.useState(""),j=Object(o.a)(p,2),m=j[0],_=j[1],O=c.a.useState([]),f=Object(o.a)(O,2),x=f[0],k=f[1];return c.a.useEffect((function(){b.getUserInfo().then((function(e){s(e.name),d(e.about),_(e.avatar)})).catch(console.log)}),[]),c.a.useEffect((function(){b.getInitialCards().then((function(e){k(e)})).catch(console.log)}),[]),Object(l.jsxs)("main",{children:[Object(l.jsxs)("section",{className:"profile",children:[Object(l.jsx)("div",{className:"profile__avatar-container",style:{backgroundImage:"url(".concat(m,")")},children:Object(l.jsx)("button",{className:"profile__avatar-edit",onClick:e.onEditAvatarClick})}),Object(l.jsxs)("div",{className:"profile__info",children:[Object(l.jsxs)("div",{className:"profile__info-title",children:[Object(l.jsx)("h1",{className:"profile__name",children:n}),Object(l.jsx)("button",{className:"profile__edit-button",type:"button","aria-label":"edit button",onClick:e.onEditProfileClick})]}),Object(l.jsx)("p",{className:"profile__job-description",children:u})]}),Object(l.jsx)("button",{className:"profile__add-button",type:"button","aria-label":"add button",onClick:e.onAddPlaceClick})]}),Object(l.jsx)("section",{className:"gallery",children:Object(l.jsx)("ul",{className:"gallery__list",children:x.map((function(t){return Object(l.jsx)(h,{card:t,onCardClick:e.onCardClick},t._id)}))})})]})}function _(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsx)("p",{className:"footer__copyrights",children:"\xa9 2021 Neta Hadar Itzhak"})})}function O(e){return Object(l.jsx)("div",{className:"popup popup_type_".concat(e.name," ").concat(e.isOpen?"popup_opened":""),children:Object(l.jsxs)("div",{className:"popup__container",children:[Object(l.jsx)("button",{className:"popup__close-button",type:"button",onClick:e.onClose}),Object(l.jsxs)("form",{className:"popup__form",name:e.name,noValidate:!0,children:[Object(l.jsx)("h2",{className:"popup__form-title",children:e.title}),e.children,Object(l.jsx)("button",{className:"popup__form-submit-button",type:"submit",children:e.buttonTitle})]})]})})}function f(e){return Object(l.jsx)("div",{className:"popup popup_type_photo ".concat(e.card.name?"popup_opened":""),children:Object(l.jsxs)("div",{className:"popup__container popup__container_type_photo",children:[Object(l.jsx)("button",{className:"popup__close-button popup__close-button_type_photo",type:"button",onClick:e.onClose}),Object(l.jsx)("div",{className:"popup__photo",style:{backgroundImage:"url(".concat(e.card.link,")")}}),Object(l.jsx)("h3",{className:"popup__text",children:e.card.name})]})})}var x=function(){var e=c.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],s=c.a.useState(!1),i=Object(o.a)(s,2),r=i[0],d=i[1],p=c.a.useState(!1),j=Object(o.a)(p,2),b=j[0],h=j[1],x=c.a.useState({name:"",link:""}),k=Object(o.a)(x,2),g=k[0],y=k[1];function N(){n(!1),d(!1),h(!1),y(!1)}return Object(l.jsxs)("div",{className:"content",children:[Object(l.jsx)(u,{}),Object(l.jsx)(m,{onEditProfileClick:function(){d(!0)},onAddPlaceClick:function(){h(!0)},onEditAvatarClick:function(){n(!0)},onCardClick:function(e){y({name:e.name,link:e.link})}}),Object(l.jsx)(_,{}),Object(l.jsxs)("section",{children:[Object(l.jsxs)(O,{name:"profile",title:"Edit Profile",buttonTitle:"Save",isOpen:r,onClose:N,children:[Object(l.jsx)("input",{className:"popup__form-input",id:"name-input",type:"text",name:"name",placeholder:"full name",minLength:"2",maxLength:"40",required:!0}),Object(l.jsx)("span",{id:"name-input-error"}),Object(l.jsx)("input",{className:"popup__form-input",id:"job-input",type:"text",name:"about",placeholder:"job title",minLength:"2",maxLength:"200",required:!0}),Object(l.jsx)("span",{id:"job-input-error"})]}),Object(l.jsxs)(O,{name:"post",title:"New place",buttonTitle:"Create",isOpen:b,onClose:N,children:[Object(l.jsx)("input",{className:"popup__form-input",id:"title-input",type:"text",name:"name",placeholder:"Title",minLength:"1",maxLength:"30",required:!0}),Object(l.jsx)("span",{id:"title-input-error"}),Object(l.jsx)("input",{className:"popup__form-input",id:"link-input",type:"url",name:"link",placeholder:"Image link",required:!0}),Object(l.jsx)("span",{id:"link-input-error"})]}),Object(l.jsx)(f,{card:g,onClose:N}),Object(l.jsx)(O,{name:"delete",title:"Are you sure?",buttonTitle:"Yes"}),Object(l.jsxs)(O,{name:"avatar",title:"Change profile picture",buttonTitle:"Save",isOpen:a,onClose:N,children:[Object(l.jsx)("input",{className:"popup__form-input",id:"avatar-link",type:"url",name:"link",placeholder:"avatar link",required:!0}),Object(l.jsx)("span",{id:"avatar-link-error"})]})]})]})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,14)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(x,{})}),document.getElementById("root")),k()}},[[13,1,2]]]);
//# sourceMappingURL=main.5c39ea63.chunk.js.map